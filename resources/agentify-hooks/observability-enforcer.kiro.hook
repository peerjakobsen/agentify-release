{
  "enabled": true,
  "name": "Observability Enforcer",
  "description": "Ensures agents use shared instrumentation modules from agents/shared/",
  "version": "1",
  "when": {
    "type": "fileEdited",
    "patterns": ["agents/**/*.py"]
  },
  "then": {
    "type": "askAgent",
    "prompt": "Check this file for observability violations.\n\nLOCAL DEFINITIONS - If this file defines any of these functions locally, REMOVE them and import from agents.shared instead:\n- instrument_tool\n- set_instrumentation_context\n- clear_instrumentation_context\n- write_tool_event\n\nCORRECT imports:\n```python\nfrom agents.shared.instrumentation import instrument_tool, set_instrumentation_context, clear_instrumentation_context\nfrom agents.shared.dynamodb_client import write_tool_event\n```\n\nOnly check for local definitions. Do NOT modify decorator order - another hook handles that."
  },
  "shortName": "observability-enforcer"
}
